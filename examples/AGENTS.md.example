# AGENTS.md - Example with Context Mesh

This is an example `AGENTS.md` file that integrates with Context Mesh. It demonstrates how AGENTS.md acts as a **router** that references Context Mesh files for strategic context while providing operational instructions.

> **Note**: This is an example. Adapt it to your project needs. See [AGENTS.md website](https://agents.md/) for the standard format.

---

## Setup Commands

- Install deps: `pnpm install`
- Start dev server: `pnpm dev`
- Run tests: `pnpm test`
- Run linter: `pnpm lint`

---

## Code Style

- TypeScript strict mode
- Single quotes, no semicolons
- Use functional patterns where possible
- Follow patterns from `@context/knowledge/patterns/`

---

## Context Files to Load

**This is the key integration point with Context Mesh.**

When working on this project, AI agents should load Context Mesh files for strategic context:

### Project Overview
- @context/intent/project-intent.md - Overall project goals and scope

### Technical Decisions
- @context/decisions/001-tech-stack.md - Technology stack choices
- @context/decisions/002-database.md - Database design and patterns
- @context/decisions/003-api-framework.md - API framework decisions
- @context/decisions/004-security.md - Security patterns
- @context/decisions/005-authentication.md - Authentication approach

### Knowledge and Patterns
- @context/knowledge/patterns/*.md - Coding patterns to follow
- @context/knowledge/anti-patterns/*.md - Patterns to avoid

### Feature-Specific Context
- @context/intent/feature-*.md - Load relevant feature intents when working on specific features
- @context/intent/bug-*.md - Load bug intents when fixing bugs

**How to use**: When an AI agent starts working, it should load the relevant Context Mesh files above to understand the strategic context (what, why, how decided) before executing operational tasks.

---

## Project Structure

```
root/
├── AGENTS.md              # This file (router for AI agents)
├── context/               # Context Mesh: strategic context
│   ├── intent/
│   │   ├── project-intent.md
│   │   ├── feature-*.md
│   │   └── bug-*.md
│   ├── decisions/
│   │   └── 001-*.md, 002-*.md, ...
│   └── knowledge/
│       ├── patterns/
│       └── anti-patterns/
│   └── agents/             # Optional: specialized agent definitions
│       └── agent-*.md
├── apps/
│   ├── api/                # Backend API
│   └── web/                # Frontend
└── packages/
    └── shared/              # Shared utilities
```

---

## Development Workflow

### Step 1: Load Context
Before starting work, load relevant Context Mesh files:
- @context/intent/project-intent.md (always)
- @context/intent/feature-*.md (if working on specific feature)
- @context/decisions/*.md (relevant decisions)
- @context/knowledge/patterns/*.md (relevant patterns)

### Step 2: Follow Context Mesh Workflow
1. **Intent**: Understand what to build (from Context Mesh)
2. **Build**: Generate code following patterns and decisions
3. **Learn**: Update context after changes

### Step 3: Execute
- Follow code style and conventions
- Run tests before committing
- **Always update context** - Update Context Mesh files after implementation (see "Critical: Always Update Context After Changes" below)

---

## Testing Instructions

- Run tests: `pnpm test`
- Run specific test: `pnpm test -t "test name"`
- Run linter: `pnpm lint`
- Fix any test or type errors before committing
- Add tests for new code (see @context/knowledge/patterns/testing-pattern.md)

---

## AI Agent Behavior

### Allowed
- Create/edit code following Context Mesh patterns
- Reference decisions from `@context/decisions/`
- Follow patterns from `@context/knowledge/patterns/`
- Update context when implementation differs from plan

### Forbidden
- Modifying `package.json` or config files without explicit instruction
- Ignoring decisions from `@context/decisions/`
- Using anti-patterns from `@context/knowledge/anti-patterns/`
- Changing project structure without updating context

### Critical: Always Update Context After Changes

**IMPORTANT**: After implementing, creating, or modifying code, AI agents MUST update Context Mesh:

1. **After creating new files/modules**:
   - Update relevant feature intent if scope changed
   - Create or update decision if new technical approach was used
   - Update changelog.md

2. **After modifying existing code**:
   - Update feature intent if functionality changed
   - Update decision outcomes if approach differed from plan
   - Update changelog.md

3. **After completing work**:
   - Mark feature/bug as completed in intent file
   - Add outcomes to decision files
   - Document learnings in evolution/learning-*.md
   - Update changelog.md

**How to update context:**
- After implementation, update relevant Context Mesh files:
  - Mark feature/bug as completed in intent file
  - Add outcomes to decision files
  - Update changelog.md
  - Document learnings if significant
- You can use AI to help identify what needs updating

**Never leave context stale** - Context Mesh only works if context reflects reality.

---

## Architecture Overview

See `@context/decisions/001-tech-stack.md` for complete technology stack.

Key technologies:
- Backend: See `@context/decisions/003-api-framework.md`
- Database: See `@context/decisions/002-database.md`
- Security: See `@context/decisions/004-security.md`
- Auth: See `@context/decisions/005-authentication.md`

---

## Coding Conventions

- Follow patterns from `@context/knowledge/patterns/`
- Avoid anti-patterns from `@context/knowledge/anti-patterns/`
- Reference relevant decisions from `@context/decisions/`
- Update context if conventions change

---

## Definition of Done (Project/Feature Level)

This is the **project-level DoD** that every feature must meet before being considered complete. This is different from:
- **Success Criteria**: Functional requirements in `feature-*.md` (acceptance criteria)

Before completing a feature:
- [ ] Code follows patterns from Context Mesh
- [ ] Decisions from Context Mesh are respected
- [ ] Tests passing
- [ ] Linter passing
- [ ] **Context updated** - Context Mesh files updated to reflect implementation (Context Mesh requirement)
- [ ] Feature/bug marked as completed in intent file
- [ ] Decision outcomes added (if applicable)
- [ ] Changelog updated
- [ ] Code linked to relevant intent/decisions
- [ ] Success Criteria met (from `feature-*.md` - acceptance criteria)

---

## Common Mistakes to Avoid

| Mistake | Why it's bad | Context Mesh Reference |
|---------|--------------|------------------------|
| Ignoring decisions | Breaks architecture | @context/decisions/ |
| Using anti-patterns | Creates technical debt | @context/knowledge/anti-patterns/ |
| **Not updating context after changes** | **Context becomes stale, breaks Context Mesh** | **Always update context after implementation** |
| Creating files without updating context | Context doesn't reflect reality | Always update after implementation |
| Skipping tests | Reduces quality | @context/knowledge/patterns/testing-pattern.md |

---

## Specialized Agents

For complex projects, see specialized agents in `context/agents/` directory:
- `context/agents/agent-backend.md` - Backend-specific instructions
- `context/agents/agent-frontend.md` - Frontend-specific instructions
- `context/agents/agent-database.md` - Database-specific instructions

Each specialized agent references Context Mesh files relevant to its scope.

---

## Integration with Context Mesh

**AGENTS.md** (this file) provides:
- ✅ Operational instructions (setup, commands, conventions)
- ✅ Router to Context Mesh files
- ✅ Development workflow

**Context Mesh** provides:
- ✅ Strategic context (intent, decisions, knowledge)
- ✅ Living context that evolves
- ✅ Full traceability

**Together**: Complete guidance for AI agents - both operational (how) and strategic (what, why).

---

## References

- [Context Mesh Framework](https://github.com/your-username/context-mesh) - Framework documentation
- [AGENTS.md Standard](https://agents.md/) - AGENTS.md format specification
- Context Mesh files in `context/` directory

---

**Last Updated**: 2024-01-15  
**Maintainer**: [Your Name]  
**AI Collaborator**: Cursor / GitHub Copilot / etc.

